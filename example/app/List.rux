initial_state do |props|
  { count: 0 }
end

should_update? do |next_props, next_state|
  true
end

handler :rerender do |event|
  update do |state|
    { count: state[:count] + 1 }
  end
end

render do
  numbers = (1..10).to_a.shuffle.first(5)

  items = numbers.map do |i|
    <li key={i}>{i.to_s}</li>
  end

  <div>
    <button on-click={handler(:rerender)}>
      Rerender
    </button>
    <p>numbers: {numbers.inspect}</p>
    <ul>{items}</ul>
  </div>
end

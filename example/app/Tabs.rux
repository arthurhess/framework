initial_state do |props|
  { index: 0 }
end

handler(:select_tab) do |event, index|
  update(index:)
end

render do
  tabs = children.map.with_index do |_, i|
    <li>
      <button on-click={handler(:select_tab, i)}>
        Tab #{i + 1}
      </button>
    </li>
  end

  <div>
    {state.inspect}
    <ul>
      {tabs}
    </ul>
    <div>
      {children[state[:index]]}
    </div>
  </div>
end

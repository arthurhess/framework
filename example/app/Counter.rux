initial_state do |props|
  { count: 0 }
end

handler :increment do |x, prev|
  update do |state|
    { count: prev.next }
  end
end

render do
  <div>
    <button on-click={handler(:increment, state[:count])}>
      Click me! {state[:count].inspect}
    </button>
  </div>
end
